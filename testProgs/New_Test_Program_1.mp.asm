BR L0
L1:
ADD SP #1 SP
PUSH 1(D1)
PUSH #0
CMPEQS
BRFS L2
PUSH #1
POP -1(D1)
BR L3
L2:
PUSH 1(D1)
PUSH 1(D1)
PUSH #1
SUBS
ADD SP #1 SP
PUSH D1
SUB SP #1 D1
CALL L1
SUB SP #0 SP
POP D1
MULS
POP -1(D1)
L3:
SUB SP #1 SP
RET
L4:
ADD SP #1 SP
PUSH #50
PUSH #-1
MULS
POP 4(D1)
L5:
PUSH 1(D1)
PUSH 4(D1)
CMPGTS
BRFS L6
PUSH 1(D1)
WRTS
PUSH #" "
WRTS
PUSH 1(D1)
PUSH #1
SUBS
POP 1(D1)
BR L5
L6:
PUSH #""
WRTS
PUSH #""
WRTLNS
SUB SP #1 SP
RET
L7:
ADD SP #1 SP
PUSH #1
PUSH #2.0
SUB SP #1 SP
CASTSF
ADD SP #1 SP
MULSF
PUSH #4
CASTSF
DIVSF
PUSH #2
CASTSF
ADDSF
POP 3(D1)
PUSH #"From procedure otherthing is: "
WRTS
PUSH 3(D1)
WRTS
PUSH #""
WRTLNS
SUB SP #1 SP
RET
L11:
ADD SP #0 SP
PUSH #"I am super imbedded and awesome. B is "
WRTS
PUSH 1(D4)
WRTS
PUSH #""
WRTLNS
SUB SP #0 SP
RET
L10:
ADD SP #0 SP
PUSH D4
PUSH 1(D3)
SUB SP #2 D4
CALL L11
SUB SP #1 SP
POP D4
SUB SP #0 SP
RET
L9:
ADD SP #0 SP
PUSH D3
PUSH 1(D2)
SUB SP #2 D3
CALL L10
SUB SP #1 SP
POP D3
SUB SP #0 SP
RET
L8:
ADD SP #1 SP
PUSH #"trying the whole imbedded thing"
WRTS
PUSH 3(D1)
WRTS
PUSH #""
WRTLNS
PUSH 1(D1)
PUSH 2(D1)
ADDSF
CASTSI
POP 6(D1)
PUSH D2
PUSH 6(D1)
SUB SP #2 D2
CALL L9
SUB SP #1 SP
POP D2
PUSH #"This string was returned as a value"
POP -1(D1)
SUB SP #1 SP
RET
L12:
ADD SP #0 SP
PUSH #5
PUSH @1(D1)
ADDS
POP @1(D1)
PUSH #"Variable x should be changed to "
WRTS
PUSH @1(D1)
WRTS
PUSH #""
WRTLNS
SUB SP #0 SP
RET
L14:
ADD SP #0 SP
PUSH #"In refCheck 3 value is: "
WRTS
PUSH @1(D2)
WRTS
PUSH #""
WRTLNS
PUSH #""
WRTS
PUSH #""
WRTLNS
SUB SP #0 SP
RET
L13:
ADD SP #0 SP
PUSH @2(D1)
PUSH @3(D1)
ADDSF
POP @2(D1)
PUSH #"X in refcheck2 is "
WRTS
PUSH @2(D1)
WRTS
PUSH #""
WRTLNS
PUSH D2
PUSH D1
PUSH #3
ADDS
SUB SP #2 D2
CALL L14
SUB SP #1 SP
POP D2
SUB SP #0 SP
RET
L0:
PUSH D0
ADD SP #7 SP
SUB SP #8 D0
PUSH #"Welcome to my program (^_^ )"
WRTS
PUSH #""
WRTLNS
PUSH #"Please enter an integer to find the factorial of:"
WRTS
PUSH #""
WRTLNS
RD 2(D0)
PUSH #0
NOTS
BRFS L15
PUSH 2(D0)
ADD SP #1 SP
PUSH D1
SUB SP #1 D1
CALL L1
SUB SP #0 SP
POP D1
WRTS
PUSH #""
WRTLNS
BR L16
L15:
PUSH #"-1"
WRTS
PUSH #""
WRTLNS
L16:
PUSH D1
PUSH #100
PUSH #2
DIVS
SUB SP #2 D1
CALL L4
SUB SP #1 SP
POP D1
PUSH D1
PUSH #9
PUSH #3
DIVS
ADD SP #1 SP
PUSH D1
SUB SP #1 D1
CALL L1
SUB SP #0 SP
POP D1
SUB SP #2 D1
CALL L4
SUB SP #1 SP
POP D1
PUSH #5
PUSH #2
MODS
POP 1(D0)
PUSH 1(D0)
PUSH #-1
MULS
WRTS
PUSH #""
WRTLNS
PUSH #1
POP 6(D0)
PUSH #0
POP 7(D0)
PUSH 6(D0)
WRTS
PUSH 7(D0)
WRTS
PUSH #""
WRTLNS
PUSH 7(D0)
PUSH 6(D0)
ANDS
POP 7(D0)
PUSH 7(D0)
WRTS
PUSH #""
WRTLNS
PUSH 7(D0)
PUSH 6(D0)
ORS
POP 7(D0)
PUSH 7(D0)
WRTS
PUSH #""
WRTLNS
PUSH #1
PUSH #2
ADDS
PUSH #-1
MULS
WRTS
PUSH #""
WRTLNS
PUSH #15
PUSH #15
MULS
PUSH #5
DIVS
PUSH #1
ADDS
PUSH #2
PUSH #2
MULS
SUBS
POP 1(D0)
PUSH #"From *main* otherthing is: "
WRTS
PUSH 1(D0)
WRTS
PUSH #""
WRTLNS
PUSH D1
SUB SP #1 D1
CALL L7
SUB SP #0 SP
POP D1
PUSH #"From *main* otherthing still is: "
WRTS
PUSH 1(D0)
WRTS
PUSH #""
WRTLNS
PUSH #7.0
PUSH #2.1
MULSF
PUSH #0.6
PUSH #13
CASTSF
DIVSF
SUBSF
PUSH #13
PUSH #11
SUBS
ADD SP #1 SP
PUSH D1
SUB SP #1 D1
CALL L1
SUB SP #0 SP
POP D1
CASTSF
MULSF
POP 3(D0)
PUSH 3(D0)
WRTS
PUSH #""
WRTLNS
PUSH #0.001
PUSH #1.23
PUSH #"String as input argument"
ADD SP #1 SP
PUSH D1
SUB SP #1 D1
CALL L8
SUB SP #0 SP
POP D1
WRTS
PUSH #""
WRTLNS
PUSH #"X starts at "
WRTS
PUSH 1(D0)
WRTS
PUSH #""
WRTLNS
PUSH D1
PUSH D0
PUSH #1
ADDS
SUB SP #2 D1
CALL L12
SUB SP #1 SP
POP D1
PUSH #"X is now "
WRTS
PUSH 1(D0)
WRTS
PUSH #" in main"
WRTS
PUSH #""
WRTLNS
PUSH #"floatMathTest start: "
WRTS
PUSH 3(D0)
WRTS
PUSH #""
WRTLNS
PUSH D1
PUSH #10
PUSH #3
DIVS
PUSH 3(D0)
PUSH D0
PUSH #3
ADDS
SUB SP #4 D1
CALL L13
SUB SP #3 SP
POP D1
PUSH #"floatMathTest is now "
WRTS
PUSH 3(D0)
WRTS
PUSH #" in main"
WRTS
PUSH #""
WRTLNS
PUSH #5
POP 1(D0)
L17:
PUSH 1(D0)
WRTS
PUSH #" "
WRTS
PUSH 1(D0)
PUSH #3
SUBS
POP 1(D0)
PUSH 1(D0)
PUSH #0
CMPLTS
BRFS L17
PUSH #5
PUSH #-1
MULS
POP 1(D0)
L18:
PUSH 1(D0)
PUSH #20
ADDS
PUSH 1(D0)
CMPGES
BRFS L19
PUSH #"otherthing is "
WRTS
PUSH 1(D0)
WRTS
PUSH #""
WRTLNS
PUSH #1
PUSH 1(D0)
ADDS
POP 1(D0)
BR L18
L19:
PUSH #1
POP 4(D0)
PUSH #5
PUSH #6.5
SUB SP #1 SP
CASTSF
ADD SP #1 SP
ADDSF
WRTS
PUSH #""
WRTLNS
PUSH #"Thank you for using this!"
WRTS
PUSH #""
WRTLNS
SUB SP #7 SP
POP D0
HLT
